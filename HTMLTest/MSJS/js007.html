<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>从 JSON 字符串中创建对象</title>
</head>
<body>
<h2>从 JSON 字符串中创建对象</h2>
<p>
    网站名: <span id="name"></span><br>
    网站地址: <span id="url"></span><br>
</p>
<script>
    // 创建包含 JSON 语法的 JavaScript 字符串
    var txt = '{ "sites" : [' +
            '{ "name":"苹果" , "url":"www.apple.com" },' +
            '{ "name":"google" , "url":"www.google.com" },' +
            '{ "name":"微博" , "url":"www.weibo.com" } ]}';

//    由于 JSON 语法是 JavaScript 语法的子集，JavaScript 函数 eval() 可用于将 JSON 文本转换为 JavaScript 对象。
//    eval() 函数使用的是 JavaScript 编译器，可解析 JSON 文本，然后生成 JavaScript 对象。
//     必须把文本包围在括号中，这样才能避免语法错误
    // 方法1： eval() 函数可编译并执行任何 JavaScript 代码。这隐藏了一个潜在的安全问题。
//    var obj = eval ("(" + txt + ")");  // 方法1
    // 方法2： 较新的浏览器和最新的 ECMAScript (JavaScript) 标准中均包含了原生的对 JSON 的支持
    obj = JSON.parse(txt); // 方法2

//    在网页中使用 JavaScript 对象
    document.getElementById("name").innerHTML=obj.sites[0].name
    document.getElementById("url").innerHTML=obj.sites[0].url
</script>
</body>
</html>